<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>21_元素-大小-位置信息</title>
  <style>
    #box {
      width: 200px;
      height: 100px;
      padding: 10px;
      border: 2px solid #409eff;
      margin: 20px 30px;
      background: #f5fafe;
      position: relative;
      top: 10px;
      left: 10px;
    }

    body {
      margin: 0;
      padding: 20px;
    }
  </style>
</head>

<body>
  <div id="box">元素大小/位置测试</div>
  <button id="getInfoBtn">获取元素大小/位置</button>

  <script>
    const box = document.getElementById('box');
    const getInfoBtn = document.getElementById('getInfoBtn');

    getInfoBtn.addEventListener('click', () => {
      // ========== 1. 元素大小（宽高） ==========
      // 1.1 内容宽高（仅内容区，不含padding/border/margin）
      console.log('  内容宽：', box.clientWidth); // 200 (width + 左右padding)
      console.log('  内容高：', box.clientHeight); // 100 (height + 上下padding)

      // 1.2 含边框的宽高（content + padding + border）
      console.log('  含边框宽：', box.offsetWidth); // 200+20+4=224
      console.log('  含边框高：', box.offsetHeight); // 100+20+4=124

      // 1.3 滚动宽高（内容实际宽高，含溢出部分）
      box.style.overflow = 'auto'; // 开启滚动演示
      console.log('  滚动宽（含溢出）：', box.scrollWidth);
      console.log('  滚动高（含溢出）：', box.scrollHeight);

      // ========== 2. 元素位置 ==========
      // 2.1 相对父定位元素的偏移（offsetLeft/offsetTop）
      console.log('  相对父元素左偏移：', box.offsetLeft); // 40 (margin-left 30 + left 10)
      console.log('  相对父元素上偏移：', box.offsetTop); // 30 (margin-top 20 + top 10)
      console.log('  定位父元素：', box.offsetParent); // body（最近的定位父元素）

      // 2.2 相对视口的绝对位置（getBoundingClientRect）
      const rect = box.getBoundingClientRect();
      console.log('  视口左偏移：', rect.left); // 元素左边缘到视口左距离
      console.log('  视口上偏移：', rect.top); // 元素上边缘到视口上距离
      console.log('  视口右偏移：', rect.right); // 元素右边缘到视口左距离
      console.log('  视口下偏移：', rect.bottom); // 元素下边缘到视口上距离
      console.log('  元素实际宽：', rect.width); // 等效offsetWidth
      console.log('  元素实际高：', rect.height); // 等效offsetHeight

      // 2.3 页面滚动偏移（全局）
      console.log('  页面水平滚动距离：', window.scrollX); // 等效pageXOffset
      console.log('  页面垂直滚动距离：', window.scrollY); // 等效pageYOffset

      // ========== 3. 可视区大小（全局） ==========
      console.log('  视口宽度：', window.innerWidth); // 含滚动条
      console.log('  视口高度：', window.innerHeight); // 含滚动条
      console.log('  文档总宽度：', document.documentElement.scrollWidth);
      console.log('  文档总高度：', document.documentElement.scrollHeight);
    });

    // ========== 核心总结 ==========
    console.log(`
      【大小相关】
      1. clientWidth/Height → 内容+padding（不含border/margin）
      2. offsetWidth/Height → 内容+padding+border（不含margin）
      3. scrollWidth/Height → 内容实际宽高（含溢出未显示部分）

      【位置相关】
      1. offsetLeft/Top → 相对offsetParent的偏移（定位父元素）
      2. getBoundingClientRect() → 相对视口的绝对位置（left/top/right/bottom）
      3. scrollX/Y → 页面滚动的偏移量
    `);
  </script>
</body>

</html>